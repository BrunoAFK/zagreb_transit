<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description" content="Abstract one-page Zagreb Transit site with setup and sensor docs." />
  <title>Zagreb Transit — Abstract</title>
  <script>
    (function(){const t=localStorage.getItem('zt_theme_abstract');const d=t?t==='dark':window.matchMedia('(prefers-color-scheme: dark)').matches;document.documentElement.classList.toggle('dark',d)})();
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config={darkMode:'class',theme:{extend:{fontFamily:{sans:['Space Grotesk','sans-serif']},keyframes:{drift:{'0%,100%':{transform:'translate(0,0) rotate(0deg)'},'50%':{transform:'translate(12px,-10px) rotate(4deg)'}},appear:{'0%':{opacity:'0',transform:'scale(.97) translateY(12px)'},'100%':{opacity:'1',transform:'scale(1) translateY(0)'}}},animation:{drift:'drift 8s ease-in-out infinite',appear:'appear .75s ease forwards'}}}}
  </script>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;700&display=swap" rel="stylesheet" />
</head>
<body class="h-full overflow-x-hidden bg-[#fbfffe] text-slate-900 dark:bg-[#04070f] dark:text-slate-100 font-sans">
  <div class="pointer-events-none fixed inset-0 -z-10">
    <div class="absolute left-[-8rem] top-10 h-72 w-72 rounded-[36%] bg-emerald-300/45 blur-3xl dark:bg-emerald-500/20 animate-drift"></div>
    <div class="absolute right-[-5rem] top-32 h-80 w-80 rounded-[42%] bg-cyan-300/45 blur-3xl dark:bg-cyan-500/20 animate-drift" style="animation-delay:-2s"></div>
    <div class="absolute bottom-[-6rem] left-1/3 h-72 w-72 rounded-[46%] bg-lime-300/35 blur-3xl dark:bg-lime-500/15 animate-drift" style="animation-delay:-4s"></div>
  </div>

  <main class="mx-auto max-w-6xl px-6 py-8">
    <header class="flex flex-wrap items-center justify-between gap-4">
      <div class="rounded-2xl border border-white/70 bg-white/60 px-4 py-3 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60">
        <p class="text-xs uppercase tracking-[0.24em] text-slate-500">Transit Intelligence</p>
        <h1 class="text-xl font-bold">Zagreb Transit</h1>
      </div>
      <div class="flex gap-2">
        <a href="https://github.com/BrunoAFK/ZagrebTransport" target="_blank" rel="noopener" class="rounded-2xl border border-white/70 bg-white/60 px-4 py-3 text-sm backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60">GitHub ★ <span id="stars">—</span></a>
        <button id="theme" class="rounded-2xl border border-white/70 bg-white/60 px-4 py-3 text-sm backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60">Dark / Light</button>
      </div>
    </header>

    <section class="mt-8 rounded-[2rem] border border-white/70 bg-white/60 p-8 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60 animate-appear">
      <h2 class="text-5xl font-bold leading-tight">A living transit layer for Home Assistant.</h2>
      <p class="mt-4 max-w-3xl text-slate-700 dark:text-slate-300">Short purpose: transform Zagreb transit feeds into stable entities for automations, widgets and situation-aware dashboards.</p>
    </section>

    <section class="mt-6 grid gap-4 lg:grid-cols-3">
      <article class="rounded-3xl border border-white/70 bg-white/55 p-5 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/55 animate-appear" style="animation-delay:.08s">
        <h3 class="font-semibold text-lg">Installation</h3>
        <p class="mt-2 text-sm text-slate-600 dark:text-slate-300">HACS custom repo is recommended. Manual copy also works.</p>
        <ol class="mt-3 list-decimal pl-5 text-sm space-y-1 text-slate-700 dark:text-slate-300">
          <li>Add repo in HACS as Integration.</li>
          <li>Install and restart HA.</li>
          <li>Add integration in Devices & Services.</li>
        </ol>
      </article>

      <article class="rounded-3xl border border-white/70 bg-white/55 p-5 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/55 animate-appear" style="animation-delay:.16s">
        <h3 class="font-semibold text-lg">How It Works</h3>
        <ol class="mt-3 list-decimal pl-5 text-sm space-y-1 text-slate-700 dark:text-slate-300">
          <li>Static feed sync + version validation.</li>
          <li>Realtime enrichment for departures.</li>
          <li>Core board entities become available.</li>
          <li>Optional watch sensors add persistent scenarios.</li>
        </ol>
      </article>

      <article class="rounded-3xl border border-white/70 bg-white/55 p-5 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/55 animate-appear" style="animation-delay:.24s">
        <h3 class="font-semibold text-lg">Sensors</h3>
        <ul class="mt-3 text-sm space-y-1 text-slate-700 dark:text-slate-300">
          <li><code>sensor.zagreb_transport_feed_source</code></li>
          <li><code>sensor.zagreb_transport_realtime_status</code></li>
          <li><code>sensor.zagreb_transport_nearby_board</code></li>
          <li><code>sensor.zagreb_transport_watch_registry</code></li>
          <li><code>sensor.zagreb_transport_watch_&lt;name_slug&gt;</code></li>
        </ul>
      </article>
    </section>

    <section class="mt-6 rounded-[2rem] border border-white/70 bg-white/60 p-7 backdrop-blur dark:border-slate-700/60 dark:bg-slate-900/60 animate-appear" style="animation-delay:.32s">
      <h3 class="text-2xl font-bold">How To Use (practical)</h3>
      <div class="mt-4 grid gap-4 md:grid-cols-2">
        <div class="rounded-2xl border border-white/70 bg-white/70 p-4 dark:border-slate-700 dark:bg-slate-800/70">
          <p class="font-semibold">Quick mode (no watches)</p>
          <ol class="mt-2 list-decimal pl-5 text-sm space-y-1 text-slate-700 dark:text-slate-300">
            <li>Check health entities and feed status.</li>
            <li>Use core query entities for nearby/station/OD checks.</li>
            <li>Add to dashboard cards.</li>
          </ol>
        </div>
        <div class="rounded-2xl border border-white/70 bg-white/70 p-4 dark:border-slate-700 dark:bg-slate-800/70">
          <p class="font-semibold">Advanced mode (watches)</p>
          <ol class="mt-2 list-decimal pl-5 text-sm space-y-1 text-slate-700 dark:text-slate-300">
            <li>Configure → Add watch type.</li>
            <li>Name it and verify generated sensor.</li>
            <li>Use sensor in automations/notifications.</li>
          </ol>
        </div>
      </div>
    </section>
  </main>

  <script>
    document.getElementById('theme').addEventListener('click',()=>{const h=document.documentElement;const d=!h.classList.contains('dark');h.classList.toggle('dark',d);localStorage.setItem('zt_theme_abstract',d?'dark':'light')});
    (async()=>{try{const r=await fetch('https://api.github.com/repos/BrunoAFK/ZagrebTransport');const d=await r.json();document.getElementById('stars').textContent=(d.stargazers_count??'—').toLocaleString?.()??'—'}catch{}})();
  </script>
</body>
</html>
